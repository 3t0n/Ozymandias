cmake_minimum_required(VERSION 2.6)
project(opencaesar)

set(CMAKE_CXX_FLAGS "${CMAKE_CXX_FLAGS} -Wall")
#set(CMAKE_CXX_FLAGS "${CMAKE_CXX_FLAGS} --coverage")
#set(CMAKE_EXE_LINKER_FLAGS "${CMAKE_EXE_LINKER_FLAGS} --coverage")
add_executable(opencaesar linux/main2.cpp linux/SoundDeviceDummy.cpp src/WalkerAction_Migrant.cpp src/Data/Data.cpp src/Data/Model.cpp src/WalkerAction.cpp src/WalkerAction_Cartpusher.cpp src/Resource_Warehouse.cpp src/Scroll.cpp src/WalkerAction_Wall.cpp src/Sound.cpp src/Widget_Button.cpp src/Walker.cpp src/Random.cpp src/Walker_Phrase.cpp src/WalkerAction_Missile.cpp src/Graphics.cpp src/WalkerAction_Market.cpp src/SidebarMenu.cpp src/Graphics_Footprint.cpp src/WalkerAction_Culture.cpp src/CityInfo_Population.cpp src/CityInfo_Ratings.cpp src/Widget_Menu.cpp src/Security.cpp src/CityInfo.cpp src/Sound_City.cpp src/CityInfo_Victory.cpp src/Animation.cpp src/Language.cpp src/KeyboardHotkey.cpp src/Screen.cpp src/TerrainWater.cpp src/Event_Invasion.cpp src/HouseEvolution.cpp src/KeyboardInput.cpp src/Loader_Model.cpp src/WalkerAction_Trader.cpp src/Scenario.cpp src/UtilityManagement.cpp src/WalkerNames.cpp src/PlayerMessage.cpp src/BuildingPlacement.cpp src/UI/DifficultyOptions.cpp src/UI/Advisor_Ratings.cpp src/UI/SpeedOptions.cpp src/UI/SetSalaryDialog.cpp src/UI/City.cpp src/UI/Advisor_Health.cpp src/UI/PlayerMessageList.cpp src/UI/Warning.cpp src/UI/BuildingInfo_Decoration.cpp src/UI/Advisor_Population.cpp src/UI/DisplayOptions.cpp src/UI/Advisor_Religion.cpp src/UI/Minimap.cpp src/UI/BuildingInfo_Industry.cpp src/UI/BuildingInfo_House.cpp src/UI/Advisor_Trade.cpp src/UI/Advisor_Chief.cpp src/UI/MessageDialog.cpp src/UI/Advisor_Entertainment.cpp src/UI/Advisor_Imperial.cpp src/UI/FileDialog.cpp src/UI/BuildingInfo_Military.cpp src/UI/CityBuildings_Ghost.cpp src/UI/Advisor_Education.cpp src/UI/Tooltip.cpp src/UI/BuildingInfo_Native.cpp src/UI/TopMenu.cpp src/UI/CityBuildings_Overlay.cpp src/UI/Advisor_Military.cpp src/UI/MissionStart.cpp src/UI/CityBuildings_Walkers.cpp src/UI/BuildingInfo_Government.cpp src/UI/BuildingInfo_Distribution.cpp src/UI/NewCareerDialog.cpp src/UI/CCKSelection.cpp src/UI/BuildingInfo_Water.cpp src/UI/SendGiftToCaesarDialog.cpp src/UI/EmpireMap.cpp src/UI/DonateToCityDialog.cpp src/UI/PopupDialog.cpp src/UI/BuildingMenu.cpp src/UI/OverlayMenu.cpp src/UI/HoldFestivalDialog.cpp src/UI/BuildingInfo_Entertainment.cpp src/UI/Advisor_Financial.cpp src/UI/MainMenu.cpp src/UI/BuildingInfo_Terrain.cpp src/UI/Advisors.cpp src/UI/MissionEnd.cpp src/UI/Advisor_Labor.cpp src/UI/Intermezzo.cpp src/UI/CityBuildings.cpp src/UI/SoundOptions.cpp src/UI/BuildingInfo_Engineering.cpp src/UI/CityBuildings_Scroll.cpp src/UI/Window.cpp src/UI/BuildingInfo_Walkers.cpp src/UI/BuildingInfo.cpp src/UI/BuildingInfo_Culture.cpp src/UI/Sidebar.cpp src/WalkerAction_Soldier.cpp src/BuildingHouse.cpp src/FormationUpdate.cpp src/Sound_Music.cpp src/WalkerAction_Water.cpp src/Formation.cpp src/WalkerRoute.cpp src/Routing.cpp src/String.cpp src/Natives.cpp src/Resource.cpp src/CityInfo_Gods.cpp src/TerrainGraphics_Context.cpp src/TerrainGraphics.cpp src/TerrainBridge.cpp src/Zip.cpp src/Event.cpp src/Loader_Graphics.cpp src/WalkerAction_Docker.cpp src/Empire.cpp src/CityInfo_Culture.cpp src/WalkerAction_Enemy.cpp src/Undo.cpp src/Grid.cpp src/WalkerGeneration.cpp src/WalkerAction_Entertainer.cpp src/Video.cpp src/WalkerAction_Service.cpp src/Tutorial.cpp src/Building.cpp src/WalkerMovement.cpp src/CityInfo_Finance.cpp src/GameFile.cpp src/CityInfo_Labor.cpp src/Desirability.cpp src/Widget_Panel.cpp src/CityView.cpp src/WalkerAction_Native.cpp src/Loader.cpp src/Calc.cpp src/HousePopulation.cpp src/Runner.cpp src/WalkerAction_Combat.cpp src/Widget_Text.cpp src/WalkerAction_Common.cpp src/WalkerAction_Animal.cpp src/FileSystem.cpp src/Trader.cpp src/GameTick.cpp src/Walker_Service.cpp src/Resource_Granary.cpp src/WalkerAction_Rioter.cpp src/CityInfo_Resource.cpp src/Time.cpp src/CityInfo_Tick.cpp src/Terrain.cpp src/Settings.cpp src/Game.cpp src/Cursor.cpp)

include(FindPkgConfig)
pkg_search_module(SDL2 REQUIRED sdl2)
pkg_search_module(SDL2_MIXER REQUIRED SDL2_mixer)

include_directories(${SDL2_INCLUDE_DIRS})
include_directories(${SDL2_MIXER_INCLUDE_DIRS})

#set(LIBS ${LIBS} ${SDL_LIBRARY})
#link_libraries(${LIBS})
target_link_libraries (opencaesar ${SDL2_LIBRARIES} ${SDL2_MIXER_LIBRARIES})

install(TARGETS opencaesar RUNTIME DESTINATION bin)
